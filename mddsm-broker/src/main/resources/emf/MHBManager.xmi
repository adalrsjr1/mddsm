<?xml version="1.0" encoding="ASCII"?>
<sb.base:Manager
    xmi:version="2.0"
    xmlns:xmi="http://www.omg.org/XMI"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xmlns:sb.base="http://www.inf.ufg.br/mestrado/sb/base"
    xmlns:sb.base.common="http://www.inf.ufg.br/mestrado/sb/base/common"
    xsi:schemaLocation="http://www.inf.ufg.br/mestrado/sb/base base.ecore http://www.inf.ufg.br/mestrado/sb/base/common base.ecore#//common"
    name="mhb">
  <iface Name="MhbInterf">
    <provides
        name="islanding"/>
    <signals
        name="mgridInfo">
      <parameters
          name="cost"/>
      <parameters
          name="voltage"/>
      <parameters
          name="isIsland"/>
    </signals>
  </iface>
  <actions xsi:type="sb.base.common:MacroAction"
      name="LoadPower"
      impl="mgridvm.mhb.actions.LoadPower">
    <parameters
        name="id"/>
  </actions>
  <actions xsi:type="sb.base.common:MacroAction"
      name="Islanding"
      impl="mgridvm.mhb.actions.Islanding"/>
  <handlers
      signal="//@iface/@provides.0">
    <action
        action="//@actions.1"/>
  </handlers>
  <handlers
      signal="//@resourceManager/@iface/@provides.3">
    <action
        action="//@actions.0">
      <bindings
          parameter="//@resourceManager/@iface/@provides.3/@parameters.0">
        <value
            xsi:type="sb.base.common:ParameterValue"
            parameter="//@resourceManager/@iface/@provides.3/@parameters.0"/>
      </bindings>
    </action>
  </handlers>
  <stateManager/>
  <resourceManager
      xsi:type="sb.base:InstanceResourceManager"
      Name="InstanceMHB">
    <iface Name="ControllerInterf">
      <provides
          name="deviceTurnOn">
        <parameters
            name="id"/>
      </provides>
      <provides
          name="deviceTurnOff">
        <parameters
            name="id"/>
      </provides>
      <provides
          name="branchIslanding">
        <parameters
            name="controller"/>
      </provides>
      <provides
          name="loadPower">
        <parameters
            name="id"/>
      </provides>
      <signals
          name="branchInfo">
        <parameters
            name="cost"/>
        <parameters
            name="voltage"/>
        <parameters
            name="isIsland"/>
        <parameters
            name="id"/>
      </signals>
      <signals
          name="fault">
        <parameters
            name="id"/>
      </signals>
    </iface>
    <instances
        name="LoadController1"
        impl="mgridvm.mhb.adapters.LoadController"
        iface="//@resourceManager/@iface">
      <features
          name="C1L1">
        <attributes
            name="enable"
            value="true"/>
        <attributes
            name="voltage"
            value="5"/>
        <attributes
            name="power"
            value="25"/>
      </features>
      <features
          name="C1L2">
        <attributes
            name="enable"
            value="true"/>
        <attributes
            name="voltage"
            value="5"/>
        <attributes
            name="power"
            value="25"/>
      </features>
      <features
          name="C1L3">
        <attributes
            name="enable"
            value="true"/>
        <attributes
            name="voltage"
            value="5"/>
        <attributes
            name="power"
            value="25"/>
      </features>
    </instances>
    <instances
        name="LoadController2"
        impl="mgridvm.mhb.adapters.LoadController"
        iface="//@resourceManager/@iface">
      <features
          name="C2L1">
        <attributes
            name="enable"
            value="true"/>
        <attributes
            name="voltage"
            value="5"/>
        <attributes
            name="power"
            value="25"/>
      </features>
      <features
          name="C2L2">
        <attributes
            name="enable"
            value="true"/>
        <attributes
            name="voltage"
            value="5"/>
        <attributes
            name="power"
            value="25"/>
      </features>
      <features
          name="C2L3">
        <attributes
            name="enable"
            value="true"/>
        <attributes
            name="voltage"
            value="5"/>
        <attributes
            name="power"
            value="25"/>
      </features>
    </instances>
    <instances
        name="LoadController3"
        impl="mgridvm.mhb.adapters.LoadController"
        iface="//@resourceManager/@iface">
      <features
          name="C3L1">
        <attributes
            name="enable"
            value="true"/>
        <attributes
            name="voltage"
            value="5"/>
        <attributes
            name="power"
            value="25"/>
      </features>
      <features
          name="C3L2">
        <attributes
            name="enable"
            value="true"/>
        <attributes
            name="voltage"
            value="5"/>
        <attributes
            name="power"
            value="25"/>
      </features>
      <features
          name="C3L3">
        <attributes
            name="enable"
            value="true"/>
        <attributes
            name="voltage"
            value="5"/>
        <attributes
            name="power"
            value="25"/>
      </features>
    </instances>
    <instances
        name="SrcController1"
        impl="mgridvm.mhb.adapters.SrcController"
        iface="//@resourceManager/@iface">
      <features
          name="C1Src1">
        <attributes
            name="voltage"
            value="5"/>
        <attributes
            name="cost"
            value="0.05"/>
      </features>
      <features
          name="C1Src2">
        <attributes
            name="voltage"
            value="5"/>
        <attributes
            name="cost"
            value="0.05"/>
      </features>
      <features
          name="C1Src3">
        <attributes
            name="voltage"
            value="5"/>
        <attributes
            name="cost"
            value="0.05"/>
      </features>
    </instances>
    <instances
        name="SrcController2"
        impl="mgridvm.mhb.adapters.SrcController"
        iface="//@resourceManager/@iface">
      <features
          name="C2Src1">
        <attributes
            name="voltage"
            value="5"/>
        <attributes
            name="cost"
            value="0.2"/>
      </features>
      <features
          name="C2Src2">
        <attributes
            name="voltage"
            value="5"/>
        <attributes
            name="cost"
            value="0.2"/>
      </features>
      <features
          name="C2Src3">
        <attributes
            name="voltage"
            value="5"/>
        <attributes
            name="cost"
            value="0.2"/>
      </features>
    </instances>
    <instances
        name="StorageController1"
        impl="mgridvm.mhb.adapters.StorageController"
        iface="//@resourceManager/@iface">
      <features
          name="C1S1">
        <attributes
            name="capacity"
            value="10"/>
      </features>
    </instances>
    <instances
        name="StorageController2"
        impl="mgridvm.mhb.adapters.StorageController"
        iface="//@resourceManager/@iface">
      <features
          name="C2S1">
        <attributes
            name="capacity"
            value="10"/>
      </features>
      <features
          name="C2S1">
        <attributes
            name="capacity"
            value="10"/>
      </features>
    </instances>
    <instances
        name="PccController"
        impl="mgridvm.mhb.adapters.PCCController"
        iface="//@resourceManager/@iface">
      <features
          name="SmartMeter">
        <attributes
            name="voltage"
            value="5"/>
        <attributes
            name="cost"
            value="0.25"/>
      </features>
    </instances>
  </resourceManager>
</sb.base:Manager>
